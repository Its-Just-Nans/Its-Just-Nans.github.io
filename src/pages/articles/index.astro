---
import BaseLayout from "../../layouts/BaseLayout.astro";
import ArticlesList from "../../components/ArticlesList.astro";
import { getAllArticles } from "../../components/utils";

const posts = await Astro.glob("/data/articles/**/*.mdx");
const { articles, articlesDrafts } = getAllArticles(posts);

const correctArticles = import.meta.env.DEV ? articles.concat(articlesDrafts) : articles;
---

<BaseLayout title="Articles">
    <ArticlesList articles={correctArticles} />
</BaseLayout>
