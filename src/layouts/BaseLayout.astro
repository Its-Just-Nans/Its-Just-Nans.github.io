---
import Base from "./Base.astro";
import App from "@components/App.astro";
import { website } from "@scripts/pages";

interface Props {
    title: string;
    addTitle: boolean;
    description?: string;
    keywords: Array<string>;
    defaultKeywords?: Array<string>;
    needKatex?: boolean;
}

const { title, description, addTitle = false, needKatex = false, keywords, defaultKeywords } = Astro.props;
const goodTitle = addTitle ? `${title} - ${website}` : title;
---

<Base title={goodTitle} description={description} keywords={keywords} defaultKeywords={defaultKeywords}>
    <Fragment slot="head-slot">
        {
            needKatex && (
                <link
                    rel="stylesheet"
                    href="/downloaded/katex.min.css"
                    integrity="sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI"
                    crossorigin="anonymous"
                />
            )
        }
    </Fragment>
    <Fragment slot="body-slot">
        <App>
            <slot />
        </App>
    </Fragment>
</Base>
